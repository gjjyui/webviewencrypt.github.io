@model ActiveDirectoryLogin.Models.Login
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="SKYPE_TOOLBAR" content="SKYPE_TOOLBAR_PARSER_COMPATIBLE" />

    <title>Log on</title>

    <link rel="shortcut icon" type="image/x-icon" href="@Href("~/favicon.ico")">
    <link rel="apple-touch-icon" href="@Href("~/globe.png")" />
    <link rel="stylesheet" media="screen,projection" type="text/css" title="currentTheme" href="@Href("~/144064/rc/themes/rcblack/rcblack.css")" />
    <link rel="stylesheet" media="screen,projection" type="text/css" href="@Href("~/144064/webview/themes/reliable/rc.css")" />
    <link rel="stylesheet" media="screen,projection" type="text/css" href="@Href("~/144064/webview/themes/rcblack/rcblack.css")" />
    <link rel="stylesheet" media="screen,projection" type="text/css" href="@Href("~/144064/webview/themes/rcblack/Common.css")" />
    <link rel="stylesheet" media="print" type="text/css" href="@Href("~/144064/webview/themes/print.css")" />


    <script type="text/javascript" src="@Href("~/144064/rc/polyfills.js")"></script>
    <script type="text/javascript" src="@Href("~/144064/rc/locale.js")"></script>
    <script type="text/javascript">
        var locale = getLocale();
        var dojoConfig = {
            locale: locale,
            isDebug:false,
            async: true,
            baseUrl: "@Href("~/144064")",
            packages: [
                { name: "dgrid", location: "dgrid/dgrid" },
                { name: "dgrid-v2", location: "dgrid-v2" },
                { name: "dstore", location: "dstore" },
                { name: "dojo", location: "dojo/dojo" },
                { name: "dijit", location: "dojo/dijit" },
                { name: "dojox", location: "dojo/dojox" },
                { name: "put-selector", location: "dgrid/put-selector" },
                { name: "rc", location: "rc" },
                { name: "webview", location: "webview" },
                { name: "xstyle", location: "dgrid/xstyle" }
            ]
        };
    </script>
    <script type="text/javascript" src="@Href("~/144064/dojo/dojo/dojo.js")"></script>
    <script type="text/javascript" src="@Href("~/144064/webview/reliable/Authentication.js")"></script>
    <!-- Load RC kernel -->
    <script type="text/javascript">
        require(["rc"], function () {
            rc.appName = "@ActiveDirectoryLogin.Components.ConfigHelperWV.GetUrlSitePath(Request.ApplicationPath)";
            rc.buildYear = "@ActiveDirectoryLogin.Components.BuildDate.GetBuildYear()";

            require([
                "dojo/parser",
                "webview",
                "dojo/domReady!"
            ], function (parser) {
                // Explicitly parse the page
                parser.parse();
            });
        });
    </script>
</head>
<body class="rc webview">
    <noscript>
        <div class="error">
            <h2><span class="rcBigWarningIcon"></span>Your browser has Javascript disabled!</h2>
            <p>Web View interface requires Javascript to run.</p>
            <p>Enable Javascript on this browser.</p>
        </div>
    </noscript>

    <div class="mpwLogin offscreen">
        <div class="mpwLoginWrapper">
            <div class="mpwLoginMessage"></div>
            <div class="mpwLoginForm">
                <form method="post" data-dojo-type="dijit/form/Form">

                    <div class="message">
                        <p><label>Please log on to</label><span></span>.</p>
                    </div><!--message-->
                    <!-- Username form -->
                    <div class="formRow">
                        <label class="leadlabel" for="username">User name:</label>
                        <div class="dijit dijitReset dijitInline dijitLeft dijitTextBox rcTextBox">
                            <div class="dijitReset dijitInputField dijitInputContainer">
                                @Html.TextBoxFor(model => model.Username, new { @class = "dijitInputInner", @id = "username", @type = "text", @name = "username", @autocomplete = "on" })
                            </div>
                        </div>
                    </div>

                    <!-- Password form -->
                    <div class="formRow">
                        <label class="leadlabel" for="password">Password:</label>
                        <div class="dijit dijitReset dijitInline dijitLeft dijitTextBox rcTextBox">
                            <div class="dijitReset dijitInputField dijitInputContainer">
                                @Html.TextBoxFor(model => model.Password, new { @class = "dijitInputInner", @id = "password", @type = "password", @name = "password", @autocomplete = "on" })
                            </div>
                        </div>
                    </div>

                    <!-- Log on button to submit the form data -->
                    <p class="buttonCenter">
                        <button class="logonButton" data-dojo-type="dijit/form/Button" data-dojo-props="baseClass: 'webviewButton', iconClass: 'rcIcon loginInfoIcon'" name="submit" type="submit">Log on</button>
                    </p>

                    <div id="waiting" class="waiting fullsize"></div>
                </form>
            </div>
        </div>

        <p class="copyright" id="copyright">
            <span class="poweredByText">Powered by <a class="linkable" target="_blank" href="http://reliablecontrols.com/">Reliable Controls</a> &copy; 2014 - @DateTime.Now.Year. RC-WebView version: <span id="version"></span>.</span>   <br />

            @if (ViewBag.CustomerName != null && ViewBag.numPoints != null)
            {
                if (ViewBag.numPoints == "1")
                {

                    <span class="licensedTo">Licensed To: @ViewBag.CustomerName.  Authorized for @ViewBag.numPoints system.  Updates subscription expires on @ViewBag.expires.</span>
                }
                else
                {
                    <span class="licensedTo">Licensed To: @ViewBag.CustomerName.  Authorized for @ViewBag.numPoints systems.  Updates subscription expires on @ViewBag.expires.</span>
                }
                <input type="hidden" id="customerName" value="@ViewBag.CustomerName" />
                <input type="hidden" id="numPoints" value="@ViewBag.numPoints" />
                <input type="hidden" id="expirary" value="@ViewBag.expires" />
            }
            else
            {
                <span class="licensedTo">Product not licensed.</span>
            }
        </p>

    </div>
    <div data-dojo-type="webview/reliable/Authentication"></div>
</body>
</html>
